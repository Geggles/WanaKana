!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.wanakana=r.wanakana||{})}(this,function(r){"use strict";function t(r,t){function e(r,t){if(void 0!==r[t])return Object.assign({"":r[""]+t},r[t])}function n(r,t){var e=r.charAt(0);return a(Object.assign({"":e},o[e]),r.slice(1),t,t+1)}function a(r,t,o,u){if(!t)return i||1===Object.keys(r).length?r[""]?[[o,u,r[""]]]:[]:[[o,u,null]];if(1===Object.keys(r).length)return[[o,u,r[""]]].concat(n(t,u));var c=e(r,t.charAt(0));return void 0===c?[[o,u,r[""]]].concat(n(t,u)):a(c,t.slice(1),o,u+1)}var i=2>=arguments.length||void 0===arguments[2]||arguments[2],o=t;return n(r,0)}function e(r){var t={},n=!0,a=!1,i=void 0;try{for(var o,u=Object.entries(r)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=nr(o.value,2),l=c[0],v=c[1];t[l]="string"==typeof v?{"":v}:e(v)}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return t}function n(r,t){var e=r,n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;void 0===e[c]&&(e[c]={}),e=e[c]}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}function a(r){var t={},e=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(r)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=nr(i.value,2),c=u[0],l=u[1],v=t,f=!0,y=!1,s=void 0;try{for(var h,d=c[Symbol.iterator]();!(f=(h=d.next()).done);f=!0){var g=h.value;void 0===v[g]&&(v[g]={}),v=v[g]}}catch(r){y=!0,s=r}finally{try{!f&&d.return&&d.return()}finally{if(y)throw s}}v[""]=l}}catch(r){n=!0,a=r}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return function(r){function e(r,t){if(void 0===r||"string"==typeof r)return t;var n=r,a=!0,i=!1,o=void 0;try{for(var u,c=Object.entries(t)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=nr(u.value,2),v=l[0],f=l[1];n[v]=e(r[v],f)}}catch(r){i=!0,o=r}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}return n}return e(JSON.parse(JSON.stringify(r)),t)}}function i(r){return"string"!=typeof r||!r.length}function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],e=arguments[2];if(i(r))return!1;var n=r.charCodeAt(0);return n>=t&&e>=n}function u(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Er,Nr)}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(u)}function l(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&r.charCodeAt(0)===Jr}function v(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&r.charCodeAt(0)===Pr}function f(){for(var r=[],t="",e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(""),n=0;e.length>n;n+=1){var a=e[n],i=[v(a),l(a)],o=i[0],c=i[1];if(o||c&&1>n)r.push(a);else if(t&&c&&n>0){var f=Ir[t].slice(-1);r.push(qr[f])}else if(!c&&u(a)){var y=a.charCodeAt(0)+(Cr-Er),s=String.fromCharCode(y);r.push(s),t=s}else r.push(a),t=""}return r.join("")}function y(){function r(t){var e={},n=!0,a=!1,i=void 0;try{for(var o,u=Object.entries(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=nr(o.value,2),l=c[0],v=c[1];e[l]=l?r(v):"ch"===v.slice(0,2)?"tch"+v.slice(2):""+v[0]+v}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}var t=e({"あ":"a","い":"i","う":"u","え":"e","お":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","ん":"n",wi:"ゐ",we:"ゑ"}),a=function(r){return n(t,r)},i={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},o=!0,u=!1,c=void 0;try{for(var l,v=Object.entries(i)[Symbol.iterator]();!(o=(l=v.next()).done);o=!0){var f=nr(l.value,2),y=f[0],s=f[1];a(y)[""]=s}}catch(r){u=!0,c=r}finally{try{!o&&v.return&&v.return()}finally{if(u)throw c}}var h={"ゃ":"ya","ゅ":"yu","ょ":"yo"},d={"ぃ":"yi","ぇ":"ye"},g={"ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},w=!0,b=!1,m=void 0;try{for(var p,j=Object.entries(h).concat(Object.entries(g))[Symbol.iterator]();!(w=(p=j.next()).done);w=!0){var O=nr(p.value,2),S=O[0],k=O[1];a(S)[""]=k}}catch(r){b=!0,m=r}finally{try{!w&&j.return&&j.return()}finally{if(b)throw m}}var x=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],A=!0,z=!1,C=void 0;try{for(var R,E=x[Symbol.iterator]();!(A=(R=E.next()).done);A=!0){var N=R.value,M=a(N)[""][0],K=!0,J=!1,P=void 0;try{for(var q,I=Object.entries(h)[Symbol.iterator]();!(K=(q=I.next()).done);K=!0){var H=nr(q.value,2),L=H[0],U=H[1];a(N+L)[""]=M+U}}catch(r){J=!0,P=r}finally{try{!K&&I.return&&I.return()}finally{if(J)throw P}}var T=!0,B=!1,_=void 0;try{for(var D,W=Object.entries(d)[Symbol.iterator]();!(T=(D=W.next()).done);T=!0){var X=nr(D.value,2),F=X[0],G=X[1];a(N+F)[""]=M+G}}catch(r){B=!0,_=r}finally{try{!T&&W.return&&W.return()}finally{if(B)throw _}}}}catch(r){z=!0,C=r}finally{try{!A&&E.return&&E.return()}finally{if(z)throw C}}var Q={"し":"sh","ち":"ch","じ":"j","ぢ":"j"},V=!0,Y=!1,Z=void 0;try{for(var $,rr=Object.entries(Q)[Symbol.iterator]();!(V=($=rr.next()).done);V=!0){var tr=nr($.value,2),er=tr[0],ar=tr[1],ir=!0,or=!1,ur=void 0;try{for(var cr,lr=Object.entries(h)[Symbol.iterator]();!(ir=(cr=lr.next()).done);ir=!0){var vr=nr(cr.value,2),fr=vr[0],yr=vr[1];a(er+fr)[""]=ar+yr[1]}}catch(r){or=!0,ur=r}finally{try{!ir&&lr.return&&lr.return()}finally{if(or)throw ur}}a(er+"ぃ")[""]=ar+"yi",a(er+"ぇ")[""]=ar+"e"}}catch(r){Y=!0,Z=r}finally{try{!V&&rr.return&&rr.return()}finally{if(Y)throw Z}}(t["っ"]=r(t))[""]="tsu";var sr={"っ":"tsu","ゎ":"wa","ゕ":"ka","ゖ":"ke","ゃ":"ya","ゅ":"yu","ょ":"yo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},hr=!0,dr=!1,gr=void 0;try{for(var wr,br=Object.entries(sr)[Symbol.iterator]();!(hr=(wr=br.next()).done);hr=!0){var mr=nr(wr.value,2),pr=mr[0],jr=mr[1];a(pr)[""]=jr}}catch(r){dr=!0,gr=r}finally{try{!hr&&br.return&&br.return()}finally{if(dr)throw gr}}return Object.freeze(JSON.parse(JSON.stringify(t)))}function s(){return null===or&&(or=y()),or}function h(r){switch(r.romanization){case ir.HEPBURN:return g(r);default:return function(r){var t=nr(r,2);return[t[0],t[1]]}}}function d(r){switch(r.romanization){case ir.HEPBURN:return s(r);default:return{}}}function g(r){return function(t){for(var e=nr(t,2),n=e[0],a=e[1],i=["b","m","p"],o=["a","i","u","e","o","y"],u=JSON.parse(JSON.stringify(a)),l=0;a.length>l;l+=1){var v=a[l][0];if("ん"===f(n.charAt(v))){var y=a[l+1];if(void 0!==y){var s=y[2].charAt(0);switch(!0){case i.includes(s):u[l][2]="m";break;case o.includes(s):u[l][2]="n'"}}}if(r.upcaseKatakana){var h=nr(u[l],3),d=h[0],g=h[1],w=h[2];c(n.slice(d,g))&&(u[l][2]=w.toUpperCase())}}return[n,u]}}function w(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[].concat(ar(r)).map(function(r,t){var e=r.charCodeAt(0),n=o(r,kr,xr),a=o(r,Ar,zr);return n?String.fromCharCode(e-kr+jr):a?String.fromCharCode(e-Ar+Or):r}).join("")}function b(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=1>=arguments.length||void 0===arguments[1]||arguments[1];if(i(r))return!1;var e=t?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/;return-1!==r.toLowerCase().charAt(0).search(e)}function m(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&o(r,Or,Sr)}function p(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&(!!l(r)||o(r,Cr,Rr))}function j(){var r=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").forEach(function(t){if(l(t)||v(t))r.push(t);else if(p(t)){var e=t.charCodeAt(0)+(Er-Cr),n=String.fromCharCode(e);r.push(n)}else r.push(t)}),r.join("")}function O(){function r(t){var e={},n=!0,a=!1,i=void 0;try{for(var o,u=Object.entries(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=nr(o.value,2),l=c[0],v=c[1];e[l]=l?r(v):"っ"+v}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}var t=e({a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}}),a=function(r){return n(t,r)},i={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},o={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},u={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},c=!0,l=!1,v=void 0;try{for(var f,y=Object.entries(i)[Symbol.iterator]();!(c=(f=y.next()).done);c=!0){var s=nr(f.value,2),h=s[0],d=s[1],g=!0,w=!1,b=void 0;try{for(var m,p=Object.entries(o)[Symbol.iterator]();!(g=(m=p.next()).done);g=!0){var j=nr(m.value,2),O=j[0],S=j[1];a(h+O)[""]=d+S}}catch(r){w=!0,b=r}finally{try{!g&&p.return&&p.return()}finally{if(w)throw b}}}}catch(r){l=!0,v=r}finally{try{!c&&y.return&&y.return()}finally{if(l)throw v}}var k={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},x=!0,A=!1,z=void 0;try{for(var C,R=Object.entries(k)[Symbol.iterator]();!(x=(C=R.next()).done);x=!0){var E=nr(C.value,2),N=E[0],M=E[1];a(N)[""]=M}}catch(r){A=!0,z=r}finally{try{!x&&R.return&&R.return()}finally{if(A)throw z}}var K={wh:"う",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"},J=!0,P=!1,q=void 0;try{for(var I,H=Object.entries(K)[Symbol.iterator]();!(J=(I=H.next()).done);J=!0){var L=nr(I.value,2),U=L[0],T=L[1],B=!0,_=!1,D=void 0;try{for(var W,X=Object.entries(u)[Symbol.iterator]();!(B=(W=X.next()).done);B=!0){var F=nr(W.value,2),G=F[0],Q=F[1];(Gr=a(U+G))[""]=T+Q}}catch(r){_=!0,D=r}finally{try{!B&&X.return&&X.return()}finally{if(_)throw D}}}}catch(r){P=!0,q=r}finally{try{!J&&H.return&&H.return()}finally{if(P)throw q}}for(var V=["n","n'","xn"],Y=0;3>Y;Y++)a(V[Y])[""]="ん";var Z={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"};t.c=JSON.parse(JSON.stringify(t.k));var $=!0,rr=!1,tr=void 0;try{for(var er,ar=Object.entries(Z)[Symbol.iterator]();!($=(er=ar.next()).done);$=!0){var ir=nr(er.value,2),or=ir[0],ur=ir[1],cr=or.slice(0,or.length-1),lr=or.charAt(or.length-1);a(cr)[lr]=JSON.parse(JSON.stringify(a(ur)))}}catch(r){rr=!0,tr=r}finally{try{!$&&ar.return&&ar.return()}finally{if(rr)throw tr}}var vr=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},u,o),fr=!0,yr=!1,sr=void 0;try{for(var hr,dr=Object.entries(vr)[Symbol.iterator]();!(fr=(hr=dr.next()).done);fr=!0){var gr=nr(hr.value,2),wr=gr[0],br=gr[1],mr=a("x"+wr);mr[""]=br;var pr=wr.slice(0,wr.length-1),jr=wr.charAt(wr.length-1);a("l"+pr)[jr]=mr;var Or=!0,Sr=!1,kr=void 0;try{for(var xr,Ar=function(r){var t=[],e=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(Z).concat([["c","k"]])[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=nr(i.value,2),c=u[0],l=u[1];r.startsWith(l)&&t.push(r.replace(l,c))}}catch(r){n=!0,a=r}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return t}(wr)[Symbol.iterator]();!(Or=(xr=Ar.next()).done);Or=!0)for(var zr=xr.value,Cr=zr.slice(0,zr.length-1),Rr=zr.charAt(zr.length-1),Er=["l","x"],Nr=0;2>Nr;Nr++){var Mr=Er[Nr];a(Mr+Cr)[Rr]=a(Mr+wr)}}catch(r){Sr=!0,kr=r}finally{try{!Or&&Ar.return&&Ar.return()}finally{if(Sr)throw kr}}}}catch(r){yr=!0,sr=r}finally{try{!fr&&dr.return&&dr.return()}finally{if(yr)throw sr}}var Kr={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},Jr=!0,Pr=!1,qr=void 0;try{for(var Ir,Hr=Object.entries(Kr)[Symbol.iterator]();!(Jr=(Ir=Hr.next()).done);Jr=!0){var Lr=nr(Ir.value,2),Ur=Lr[0],Tr=Lr[1];a(Ur)[""]=Tr}}catch(r){Pr=!0,qr=r}finally{try{!Jr&&Hr.return&&Hr.return()}finally{if(Pr)throw qr}}var Br=!0,_r=!1,Dr=void 0;try{for(var Wr,Xr=Object.keys(i).concat("c","y","w","j")[Symbol.iterator]();!(Br=(Wr=Xr.next()).done);Br=!0){var Fr=Wr.value,Gr=t[Fr];Gr[Fr]=r(Gr)}}catch(r){_r=!0,Dr=r}finally{try{!Br&&Xr.return&&Xr.return()}finally{if(_r)throw Dr}}return delete t.n.n,Object.freeze(JSON.parse(JSON.stringify(t)))}function S(r){return null===Hr&&(Hr=O()),Hr}function k(r){return function(t){var e=nr(t,2),n=e[0];return[n,e[1].map(function(t){var e=nr(t,3),a=e[0],i=e[1],o=e[2];return null===o?[a,i,n.slice(a)]:!r.ignoreCase&&m(n.charAt(a))?[a,i,j(o)]:t})]}}function x(r){var t=JSON.parse(JSON.stringify(r));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function A(){return z(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map(function(r){return r[2]}).join("")}function z(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},ur,e),a=k(n),i=S(n);i=n.IMEMode?x(i):i,i=n.useObsoleteKana?Lr(i):i,i=n.customKanaMapping(i);var o=a([r,t(r.toLowerCase(),i,!n.IMEMode)]);return(o=n.customKanaPostProcessing(o))[1]}function C(r){var t=E(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(r instanceof Element&&Ur.includes(r.nodeName)){var e=Dr();r.setAttribute("data-wanakana-id",e),r.autocapitalize="none",r.addEventListener("compositionupdate",N),r.addEventListener("input",t),Tr=M(t,e)}else console.warn("Input provided to wanakana.bind was not a valid input field.")}function R(r){var t=K(r);null!=t?(r.removeAttribute("data-wanakana-id"),r.removeEventListener("compositionupdate",N),r.removeEventListener("input",t.handler),Tr=J(t)):console.warn("Input had no listener registered.")}function E(r){var t=Object.assign({},ur,r);return function(r){var e=r.target;if(_r)_r=!1;else{var n=w(e.value),a=z(P(n,t.IMEMode),Object.assign({},t,{IMEMode:!0})),i=a.map(function(r){return r[2]}).join("");if(n!==i){var o=e.selectionEnd;if(e.value=i,null!==e.setSelectionRange&&"number"==typeof e.selectionStart){if(0===o)e.setSelectionRange(0,0);else{e.setSelectionRange(e.value.length,e.value.length);for(var u=0,c=0;a.length>c;c+=1){var l=nr(a[c],3),v=l[1];if(u+=l[2].length,v>=o){e.setSelectionRange(u,u);break}}}return}if(null!=e.createTextRange){e.focus();var f=e.createTextRange();f.collapse(!1),f.select()}}}}}function N(r){var t=r.data||r.detail&&r.detail.data,e=t&&t.slice(-2).split("")||[],n="n"===e[0],a=e.every(function(r){return b(w(r))});_r=!n&&a}function M(r,t){return Tr.concat({id:t,handler:r})}function K(r){return r&&Tr.find(function(t){return t.id===r.getAttribute("data-wanakana-id")})}function J(r){var t=r.id;return Tr.filter(function(r){return r.id!==t})}function P(r,t){switch(!0){case"toHiragana"===t:return r.toLowerCase();case"toKatakana"===t:return r.toUpperCase();default:return r}}function q(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&mr.some(function(t){var e=nr(t,2);return o(r,e[0],e[1])})}function I(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(q)}function H(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return br.some(function(t){var e=nr(t,2);return o(r,e[0],e[1])})}function L(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(H)}function U(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&(p(r)||u(r))}function T(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(U)}function B(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(p)}function _(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Mr,Kr)}function D(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&[].concat(ar(r)).every(_)}function W(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passKanji:!0},e=[].concat(ar(r)),n=!1;return t.passKanji||(n=e.some(D)),(e.some(B)||e.some(c))&&e.some(I)&&!n}function X(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A(r,Object.assign({},t,{ignoreCase:!0}))}function F(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},ur,t);return e.passRomaji?f(r):I(r)?X(r,e):W(r,{passKanji:!0})?X(f(r),e):f(r)}function G(){return Q(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map(function(r){return r[2]}).join("")}function Q(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},ur,e),a=h(n),i=d(n);i=n.customRomajiMapping(i);var o=a([r,t(F(r,{passRomaji:!0}),i,!n.IMEMode)]);return(o=n.customRomajiPostProcessing(o))[1]}function V(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},ur,t);return j(e.passRomaji?r:I(r)||W(r)?X(r,e):r)}function Y(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&pr.some(function(t){var e=nr(t,2);return o(r,e[0],e[1])})}function Z(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&gr.some(function(t){var e=nr(t,2);return o(r,e[0],e[1])})}function $(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!i(r)&&(Y(r)||Z(r))}function rr(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{all:!1};if(i(r)||!L(r)||T(r))return r;var e=[].concat(ar(r));if(t.all)return e.filter(function(r){return!U(r)}).join("");for(var n=e.reverse(),a=0,o=n.length;o>a;a+=1){var u=n[a];if(!$(u)){if(D(u))break;n[a]=""}}return n.reverse().join("")}function tr(r){switch(!0){case Z(r):return"japanesePunctuation";case _(r):return"kanji";case p(r):return"hiragana";case u(r):return"katakana";default:return"romaji"}}function er(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(i(r))return[""];var t=[].concat(ar(r)),e=t.shift(),n=tr(e);return t.reduce(function(r,t){var e=tr(t)===n;if(n=tr(t),e){var a=r.pop();return r.concat(a.concat(t))}return r.concat(t)},[e])}var nr=function(){function r(r,t){var e=[],n=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(n=(o=u.next()).done)&&(e.push(o.value),!t||e.length!==t);n=!0);}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ar=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);r.length>t;t++)e[t]=r[t];return e}return Array.from(r)},ir=Object.freeze({HEPBURN:"hepburn"}),or=null,ur={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,ignoreCase:!1,IMEMode:!1,romanization:ir.HEPBURN,customKanaMapping:function(r){return r},customKanaPostProcessing:function(r){var t=nr(r,2);return[t[0],t[1]]},customRomajiMapping:function(r){return r},customRomajiPostProcessing:function(r){var t=nr(r,2);return[t[0],t[1]]}},cr=[65296,65305],lr=[65377,65381],vr=[19968,40959],fr=[13312,19903],yr=[48,57],sr=[0,127],hr=[[256,257],[274,275],[298,299],[332,333],[362,363]],dr=[[8216,8217],[8220,8221]],gr=[[12288,12351],lr,[12539,12540],[65281,65295],[65306,65311],[65339,65343],[65371,65376],[65504,65518]],wr=[[12352,12447],[12448,12543],lr,[65382,65439]],br=[].concat(wr,gr,[yr,cr,vr,fr]),mr=[sr].concat(hr,dr),pr=[[33,47],[58,63],[91,96],[123,126]].concat(dr),jr=97,Or=65,Sr=90,kr=65345,xr=65370,Ar=65313,zr=65338,Cr=12353,Rr=12438,Er=12449,Nr=12540,Mr=19968,Kr=40879,Jr=12540,Pr=12539,qr={a:"あ",i:"い",u:"う",e:"え",o:"う"},Ir={"　":" ","！":"!","？":"?","。":".","：":":","・":"/","、":",","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","あ":"a","い":"i","う":"u","え":"e","お":"o","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","か":"ka","き":"ki","きゃ":"kya","きぃ":"kyi","きゅ":"kyu","く":"ku","け":"ke","こ":"ko","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ぎゃ":"gya","ぎぃ":"gyi","ぎゅ":"gyu","ぎぇ":"gye","ぎょ":"gyo","さ":"sa","す":"su","せ":"se","そ":"so","ざ":"za","ず":"zu","ぜ":"ze","ぞ":"zo","し":"shi","しゃ":"sha","しゅ":"shu","しょ":"sho","じ":"ji","じゃ":"ja","じゅ":"ju","じょ":"jo","た":"ta","ち":"chi","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","つ":"tsu","て":"te","と":"to","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","な":"na","に":"ni","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","みゃ":"mya","みゅ":"myu","みょ":"myo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","りゃ":"rya","りゅ":"ryu","りょ":"ryo","わ":"wa","を":"wo","ん":"n","ゐ":"wi","ゑ":"we","きぇ":"kye","きょ":"kyo","じぃ":"jyi","じぇ":"jye","ちぃ":"cyi","ちぇ":"che","ひぃ":"hyi","ひぇ":"hye","びぃ":"byi","びぇ":"bye","ぴぃ":"pyi","ぴぇ":"pye","みぇ":"mye","みぃ":"myi","りぃ":"ryi","りぇ":"rye","にぃ":"nyi","にぇ":"nye","しぃ":"syi","しぇ":"she","いぇ":"ye","うぁ":"wha","うぉ":"who","うぃ":"wi","うぇ":"we","ゔゃ":"vya","ゔゅ":"vyu","ゔょ":"vyo","すぁ":"swa","すぃ":"swi","すぅ":"swu","すぇ":"swe","すぉ":"swo","くゃ":"qya","くゅ":"qyu","くょ":"qyo","くぁ":"qwa","くぃ":"qwi","くぅ":"qwu","くぇ":"qwe","くぉ":"qwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぅ":"gwu","ぐぇ":"gwe","ぐぉ":"gwo","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てゃ":"tha","てぃ":"thi","てゅ":"thu","てぇ":"the","てょ":"tho","とぁ":"twa","とぃ":"twi","とぅ":"twu","とぇ":"twe","とぉ":"two","ぢゃ":"dya","ぢぃ":"dyi","ぢゅ":"dyu","ぢぇ":"dye","ぢょ":"dyo","でゃ":"dha","でぃ":"dhi","でゅ":"dhu","でぇ":"dhe","でょ":"dho","どぁ":"dwa","どぃ":"dwi","どぅ":"dwu","どぇ":"dwe","どぉ":"dwo","ふぅ":"fwu","ふゃ":"fya","ふゅ":"fyu","ふょ":"fyo","ぁ":"a","ぃ":"i","ぇ":"e","ぅ":"u","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","っ":"","ゕ":"ka","ゖ":"ka","ゎ":"wa","んあ":"n'a","んい":"n'i","んう":"n'u","んえ":"n'e","んお":"n'o","んや":"n'ya","んゆ":"n'yu","んよ":"n'yo"},Hr=null,Lr=a({wi:"ゐ",we:"ゑ"}),Ur=["TEXTAREA","INPUT"],Tr=[],Br=0,_r=!1,Dr=function(){return Br+=1,""+Date.now()+Br};r.bind=C,r.unbind=R,r.isRomaji=I,r.isJapanese=L,r.isKana=T,r.isHiragana=B,r.isKatakana=c,r.isMixed=W,r.isKanji=D,r.toRomaji=G,r.toKana=A,r.toHiragana=F,r.toKatakana=V,r.stripOkurigana=rr,r.tokenize=er,r.createCustomMapping=a,r.methods=ir,Object.defineProperty(r,"__esModule",{value:!0})});
