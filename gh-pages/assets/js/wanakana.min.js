!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.wanakana=r.wanakana||{})}(this,function(r){"use strict";function t(r){return"string"!=typeof r||!r.length}function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],n=arguments[2];if(t(r))return!1;var a=r.charCodeAt(0);return a>=e&&n>=a}function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[].concat(Kr(r)).map(function(r,t){var n=r.charCodeAt(0),a=e(r,dr,gr),i=e(r,wr,br);return a?String.fromCharCode(n-dr+yr):i?String.fromCharCode(n-wr+sr):r}).join("")}function a(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=1>=arguments.length||void 0===arguments[1]||arguments[1];if(t(r))return!1;var n=e?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/;return-1!==r.toLowerCase().charAt(0).search(n)}function i(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&e(r,sr,hr)}function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&r.charCodeAt(0)===xr}function u(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&r.charCodeAt(0)===Ar}function l(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&(!!o(r)||e(r,pr,mr))}function c(){var r=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").forEach(function(t){if(o(t)||u(t))r.push(t);else if(l(t)){var e=t.charCodeAt(0)+(jr-pr),n=String.fromCharCode(e);r.push(n)}else r.push(t)}),r.join("")}function v(r){var t=JSON.parse(JSON.stringify(r));return t.n.n={"":"ん"},t.n[" "]={"":"ん"},t}function f(r,t){function e(r,t){if(void 0!==r[t])return Object.assign({"":r[""]+t},r[t])}function n(r,t){var e=r.charAt(0);return a(Object.assign({"":e},o[e]),r.slice(1),t,t+1)}function a(r,t,o,u){if(!t)return i||1===Object.keys(r).length?r[""]?[[o,u,r[""]]]:[]:[[o,u,null]];if(1===Object.keys(r).length)return[[o,u,r[""]]].concat(n(t,u));var l=e(r,t.charAt(0));return void 0===l?[[o,u,r[""]]].concat(n(t,u)):a(l,t.slice(1),o,u+1)}var i=2>=arguments.length||void 0===arguments[2]||arguments[2],o=t;return n(r,0)}function y(r){var t={},e=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(r)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=Mr(i.value,2),l=u[0],c=u[1];t[l]="string"==typeof c?{"":c}:y(c)}}catch(r){n=!0,a=r}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return t}function s(r,t){var e=r,n=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value;void 0===e[l]&&(e[l]={}),e=e[l]}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}function h(){function r(t){var e={},n=!0,a=!1,i=void 0;try{for(var o,u=Object.entries(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=Mr(o.value,2),c=l[0],v=l[1];c?e[c]=r(v):(console.log(c,v),e[c]="ch"===v.slice(0,2)?"tch"+v.slice(2):""+v[0]+v)}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}var t=y({"あ":"a","い":"i","う":"u","え":"e","お":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo"}),e=function(r){return s(t,r)},n={"ゃ":"ya","ゅ":"yu","ょ":"yo"},a={"ぃ":"yi","ぇ":"ye"},i={"ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o"},o=!0,u=!1,l=void 0;try{for(var c,v=Object.entries(n).concat(Object.entries(i))[Symbol.iterator]();!(o=(c=v.next()).done);o=!0){var f=Mr(c.value,2),h=f[0],d=f[1];e(h)[""]=d}}catch(r){u=!0,l=r}finally{try{!o&&v.return&&v.return()}finally{if(u)throw l}}var g=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],w=!0,b=!1,p=void 0;try{for(var m,j=g[Symbol.iterator]();!(w=(m=j.next()).done);w=!0){var O=m.value,k=e(O)[""][0],S=!0,x=!1,A=void 0;try{for(var C,z=Object.entries(n)[Symbol.iterator]();!(S=(C=z.next()).done);S=!0){var M=Mr(C.value,2),K=M[0],E=M[1];e(O+K)[""]=k+E}}catch(r){x=!0,A=r}finally{try{!S&&z.return&&z.return()}finally{if(x)throw A}}var N=!0,q=!1,J=void 0;try{for(var R,I=Object.entries(a)[Symbol.iterator]();!(N=(R=I.next()).done);N=!0){var L=Mr(R.value,2),T=L[0],H=L[1];e(O+T)[""]=k+H}}catch(r){q=!0,J=r}finally{try{!N&&I.return&&I.return()}finally{if(q)throw J}}}}catch(r){b=!0,p=r}finally{try{!w&&j.return&&j.return()}finally{if(b)throw p}}var P={"し":"sh","ち":"ch","じ":"j","ぢ":"j"},U=!0,_=!1,D=void 0;try{for(var W,X=Object.entries(P)[Symbol.iterator]();!(U=(W=X.next()).done);U=!0){var B=Mr(W.value,2),F=B[0],G=B[1],Q=!0,V=!1,Y=void 0;try{for(var Z,$=Object.entries(n)[Symbol.iterator]();!(Q=(Z=$.next()).done);Q=!0){var rr=Mr(Z.value,2),tr=rr[0],er=rr[1];e(F+tr)[""]=G+er[1]}}catch(r){V=!0,Y=r}finally{try{!Q&&$.return&&$.return()}finally{if(V)throw Y}}e(F+"ぃ")[""]=G+"yi",e(F+"ぇ")[""]=G+"e"}}catch(r){_=!0,D=r}finally{try{!U&&X.return&&X.return()}finally{if(_)throw D}}return t["っ"]=r(t),t["っ"][""]="tsu",Object.freeze(JSON.parse(JSON.stringify(t)))}function d(){function r(t){var e={},n=!0,a=!1,i=void 0;try{for(var o,u=Object.entries(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=Mr(o.value,2),c=l[0],v=l[1];e[c]=c?r(v):"っ"+v}}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}var t=y({a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}}),e=function(r){return s(t,r)},n={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},a={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},i={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},o=!0,u=!1,l=void 0;try{for(var c,v=Object.entries(n)[Symbol.iterator]();!(o=(c=v.next()).done);o=!0){var f=Mr(c.value,2),h=f[0],d=f[1],g=!0,w=!1,b=void 0;try{for(var p,m=Object.entries(a)[Symbol.iterator]();!(g=(p=m.next()).done);g=!0){var j=Mr(p.value,2),O=j[0],k=j[1];e(h+O)[""]=d+k}}catch(r){w=!0,b=r}finally{try{!g&&m.return&&m.return()}finally{if(w)throw b}}}}catch(r){u=!0,l=r}finally{try{!o&&v.return&&v.return()}finally{if(u)throw l}}var S={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},x=!0,A=!1,C=void 0;try{for(var z,M=Object.entries(S)[Symbol.iterator]();!(x=(z=M.next()).done);x=!0){var K=Mr(z.value,2),E=K[0],N=K[1];e(E)[""]=N}}catch(r){A=!0,C=r}finally{try{!x&&M.return&&M.return()}finally{if(A)throw C}}var q={wh:"う",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"},J=!0,R=!1,I=void 0;try{for(var L,T=Object.entries(q)[Symbol.iterator]();!(J=(L=T.next()).done);J=!0){var H=Mr(L.value,2),P=H[0],U=H[1],_=!0,D=!1,W=void 0;try{for(var X,B=Object.entries(i)[Symbol.iterator]();!(_=(X=B.next()).done);_=!0){var F=Mr(X.value,2),G=F[0],Q=F[1];(Gr=e(P+G))[""]=U+Q}}catch(r){D=!0,W=r}finally{try{!_&&B.return&&B.return()}finally{if(D)throw W}}}}catch(r){R=!0,I=r}finally{try{!J&&T.return&&T.return()}finally{if(R)throw I}}for(var V=["n","n'","xn"],Y=0;3>Y;Y++)e(V[Y])[""]="ん";var Z={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"};t.c=JSON.parse(JSON.stringify(t.k));var $=!0,rr=!1,tr=void 0;try{for(var er,nr=Object.entries(Z)[Symbol.iterator]();!($=(er=nr.next()).done);$=!0){var ar=Mr(er.value,2),ir=ar[0],or=ar[1],ur=ir.slice(0,ir.length-1),lr=ir.charAt(ir.length-1);e(ur)[lr]=JSON.parse(JSON.stringify(e(or)))}}catch(r){rr=!0,tr=r}finally{try{!$&&nr.return&&nr.return()}finally{if(rr)throw tr}}var cr=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},i,a),vr=!0,fr=!1,yr=void 0;try{for(var sr,hr=Object.entries(cr)[Symbol.iterator]();!(vr=(sr=hr.next()).done);vr=!0){var dr=Mr(sr.value,2),gr=dr[0],wr=dr[1],br=e("x"+gr);br[""]=wr;var pr=gr.slice(0,gr.length-1),mr=gr.charAt(gr.length-1);e("l"+pr)[mr]=br;var jr=!0,Or=!1,kr=void 0;try{for(var Sr,xr=function(r){var t=[],e=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(Z).concat([["c","k"]])[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=Mr(i.value,2),l=u[0],c=u[1];r.startsWith(c)&&t.push(r.replace(c,l))}}catch(r){n=!0,a=r}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return t}(gr)[Symbol.iterator]();!(jr=(Sr=xr.next()).done);jr=!0)for(var Ar=Sr.value,Cr=Ar.slice(0,Ar.length-1),zr=Ar.charAt(Ar.length-1),Kr=["l","x"],Er=0;2>Er;Er++){var Nr=Kr[Er];e(Nr+Cr)[zr]=e(Nr+gr)}}catch(r){Or=!0,kr=r}finally{try{!jr&&xr.return&&xr.return()}finally{if(Or)throw kr}}}}catch(r){fr=!0,yr=r}finally{try{!vr&&hr.return&&hr.return()}finally{if(fr)throw yr}}var qr={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},Jr=!0,Rr=!1,Ir=void 0;try{for(var Lr,Tr=Object.entries(qr)[Symbol.iterator]();!(Jr=(Lr=Tr.next()).done);Jr=!0){var Hr=Mr(Lr.value,2),Pr=Hr[0],Ur=Hr[1];e(Pr)[""]=Ur}}catch(r){Rr=!0,Ir=r}finally{try{!Jr&&Tr.return&&Tr.return()}finally{if(Rr)throw Ir}}var _r=!0,Dr=!1,Wr=void 0;try{for(var Xr,Br=Object.keys(n).concat("c","y","w","j")[Symbol.iterator]();!(_r=(Xr=Br.next()).done);_r=!0){var Fr=Xr.value,Gr=t[Fr];Gr[Fr]=r(Gr)}}catch(r){Dr=!0,Wr=r}finally{try{!_r&&Br.return&&Br.return()}finally{if(Dr)throw Wr}}return delete t.n.n,Object.freeze(JSON.parse(JSON.stringify(t)))}function g(){return null===Nr&&(Nr=d()),Nr}function w(){return b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).map(function(r){return r[2]}).join("")}function b(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},Z,t),n=g();return n=e.IMEMode?v(n):n,n=e.useObsoleteKana?Er(n):n,n=e.customKanaMapping(n),f(r.toLowerCase(),n,!e.IMEMode).map(function(t){var n=Mr(t,3),a=n[0],o=n[1],u=n[2];return null===u?[a,o,r.slice(a)]:!e.ignoreCase&&i(r[a])?[a,o,c(u)]:t})}function p(r){var t=j(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(r instanceof Element&&qr.includes(r.nodeName)){var e=Lr();r.setAttribute("data-wanakana-id",e),r.autocapitalize="none",r.addEventListener("compositionupdate",O),r.addEventListener("input",t),Jr=k(t,e)}else console.warn("Input provided to wanakana.bind was not a valid input field.")}function m(r){var t=S(r);null!=t?(r.removeAttribute("data-wanakana-id"),r.removeEventListener("compositionupdate",O),r.removeEventListener("input",t.handler),Jr=x(t)):console.warn("Input had no listener registered.")}function j(r){var t=Object.assign({},Z,r);return function(r){var e=r.target;if(Ir)Ir=!1;else{var a=n(e.value),i=b(A(a,t.IMEMode),Object.assign({},t,{IMEMode:!0})),o=i.map(function(r){return r[2]}).join("");if(a!==o){var u=e.selectionEnd;if(e.value=o,null!==e.setSelectionRange&&"number"==typeof e.selectionStart){if(0===u)e.setSelectionRange(0,0);else{e.setSelectionRange(e.value.length,e.value.length);for(var l=0,c=0;i.length>c;c+=1){var v=Mr(i[c],3),f=v[1];if(l+=v[2].length,f>=u){e.setSelectionRange(l,l);break}}}return}if(null!=e.createTextRange){e.focus();var y=e.createTextRange();y.collapse(!1),y.select()}}}}}function O(r){var t=r.data||r.detail&&r.detail.data,e=t&&t.slice(-2).split("")||[],i="n"===e[0],o=e.every(function(r){return a(n(r))});Ir=!i&&o}function k(r,t){return Jr.concat({id:t,handler:r})}function S(r){return r&&Jr.find(function(t){return t.id===r.getAttribute("data-wanakana-id")})}function x(r){var t=r.id;return Jr.filter(function(r){return r.id!==t})}function A(r,t){switch(!0){case"toHiragana"===t:return r.toLowerCase();case"toKatakana"===t:return r.toUpperCase();default:return r}}function C(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&vr.some(function(t){var n=Mr(t,2);return e(r,n[0],n[1])})}function z(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(C)}function M(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return cr.some(function(t){var n=Mr(t,2);return e(r,n[0],n[1])})}function K(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(M)}function E(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",jr,Or)}function N(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&(l(r)||E(r))}function q(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(N)}function J(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(l)}function R(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(E)}function I(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",kr,Sr)}function L(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&[].concat(Kr(r)).every(I)}function T(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{passKanji:!0},e=[].concat(Kr(r)),n=!1;return t.passKanji||(n=e.some(L)),(e.some(J)||e.some(R))&&e.some(z)&&!n}function H(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.min(r,t)}function P(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments[2];return r.slice(t,e)}function U(){for(var r=[],t="",e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(""),n=0;e.length>n;n+=1){var a=e[n],i=[u(a),o(a)],l=i[0],c=i[1];if(l||c&&1>n)r.push(a);else if(t&&c&&n>0){var v=zr[t].slice(-1);r.push(Cr[v])}else if(!c&&E(a)){var f=a.charCodeAt(0)+(pr-jr),y=String.fromCharCode(f);r.push(y),t=y}else r.push(a),t=""}return r.join("")}function _(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},Z,t),n=r.length,a=[],i=0,o=2,u="",l="",c=void 0;n>i;){o=H(2,n-i);for(var v=!1;o>0;){if(u=P(r,i,i+o),R(u)&&(v=e.upcaseKatakana,u=U(u)),"っ"===u.charAt(0)&&1===o&&n-1>i){c=!0,l="";break}if(null!=(l=zr[u])&&c&&(l=l.charAt(0).concat(l),c=!1),null!=l)break;o-=1}null==l&&(l=u),v&&(l=l.toUpperCase()),a.push(l),i+=o||1}return a.join("")}function D(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(r,Object.assign({},t,{ignoreCase:!0}))}function W(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},Z,t);return e.passRomaji?U(r):z(r)?D(r,e):T(r,{passKanji:!0})?D(U(r),e):U(r)}function X(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Object.assign({},Z,t);return c(e.passRomaji?r:z(r)||T(r)?D(r,e):r)}function B(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&fr.some(function(t){var n=Mr(t,2);return e(r,n[0],n[1])})}function F(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&ur.some(function(t){var n=Mr(t,2);return e(r,n[0],n[1])})}function G(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!t(r)&&(B(r)||F(r))}function Q(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{all:!1};if(t(r)||!K(r)||q(r))return r;var n=[].concat(Kr(r));if(e.all)return n.filter(function(r){return!N(r)}).join("");for(var a=n.reverse(),i=0,o=a.length;o>i;i+=1){var u=a[i];if(!G(u)){if(L(u))break;a[i]=""}}return a.reverse().join("")}function V(r){switch(!0){case F(r):return"japanesePunctuation";case I(r):return"kanji";case l(r):return"hiragana";case E(r):return"katakana";default:return"romaji"}}function Y(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t(r))return[""];var e=[].concat(Kr(r)),n=e.shift(),a=V(n);return e.reduce(function(r,t){var e=V(t)===a;if(a=V(t),e){var n=r.pop();return r.concat(n.concat(t))}return r.concat(t)},[n])}var Z={useObsoleteKana:!1,passRomaji:!1,upcaseKatakana:!1,ignoreCase:!1,IMEMode:!1,customKanaMapping:function(r){return r}},$=[65296,65305],rr=[65377,65381],tr=[19968,40959],er=[13312,19903],nr=[48,57],ar=[0,127],ir=[[256,257],[274,275],[298,299],[332,333],[362,363]],or=[[8216,8217],[8220,8221]],ur=[[12288,12351],rr,[12539,12540],[65281,65295],[65306,65311],[65339,65343],[65371,65376],[65504,65518]],lr=[[12352,12447],[12448,12543],rr,[65382,65439]],cr=[].concat(lr,ur,[nr,$,tr,er]),vr=[ar].concat(ir,or),fr=[[33,47],[58,63],[91,96],[123,126]].concat(or),yr=97,sr=65,hr=90,dr=65345,gr=65370,wr=65313,br=65338,pr=12353,mr=12438,jr=12449,Or=12540,kr=19968,Sr=40879,xr=12540,Ar=12539,Cr={a:"あ",i:"い",u:"う",e:"え",o:"う"},zr={"　":" ","！":"!","？":"?","。":".","：":":","・":"/","、":",","〜":"~","ー":"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","あ":"a","い":"i","う":"u","え":"e","お":"o","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","か":"ka","き":"ki","きゃ":"kya","きぃ":"kyi","きゅ":"kyu","く":"ku","け":"ke","こ":"ko","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ぎゃ":"gya","ぎぃ":"gyi","ぎゅ":"gyu","ぎぇ":"gye","ぎょ":"gyo","さ":"sa","す":"su","せ":"se","そ":"so","ざ":"za","ず":"zu","ぜ":"ze","ぞ":"zo","し":"shi","しゃ":"sha","しゅ":"shu","しょ":"sho","じ":"ji","じゃ":"ja","じゅ":"ju","じょ":"jo","た":"ta","ち":"chi","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","つ":"tsu","て":"te","と":"to","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","な":"na","に":"ni","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","みゃ":"mya","みゅ":"myu","みょ":"myo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","りゃ":"rya","りゅ":"ryu","りょ":"ryo","わ":"wa","を":"wo","ん":"n","ゐ":"wi","ゑ":"we","きぇ":"kye","きょ":"kyo","じぃ":"jyi","じぇ":"jye","ちぃ":"cyi","ちぇ":"che","ひぃ":"hyi","ひぇ":"hye","びぃ":"byi","びぇ":"bye","ぴぃ":"pyi","ぴぇ":"pye","みぇ":"mye","みぃ":"myi","りぃ":"ryi","りぇ":"rye","にぃ":"nyi","にぇ":"nye","しぃ":"syi","しぇ":"she","いぇ":"ye","うぁ":"wha","うぉ":"who","うぃ":"wi","うぇ":"we","ゔゃ":"vya","ゔゅ":"vyu","ゔょ":"vyo","すぁ":"swa","すぃ":"swi","すぅ":"swu","すぇ":"swe","すぉ":"swo","くゃ":"qya","くゅ":"qyu","くょ":"qyo","くぁ":"qwa","くぃ":"qwi","くぅ":"qwu","くぇ":"qwe","くぉ":"qwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぅ":"gwu","ぐぇ":"gwe","ぐぉ":"gwo","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てゃ":"tha","てぃ":"thi","てゅ":"thu","てぇ":"the","てょ":"tho","とぁ":"twa","とぃ":"twi","とぅ":"twu","とぇ":"twe","とぉ":"two","ぢゃ":"dya","ぢぃ":"dyi","ぢゅ":"dyu","ぢぇ":"dye","ぢょ":"dyo","でゃ":"dha","でぃ":"dhi","でゅ":"dhu","でぇ":"dhe","でょ":"dho","どぁ":"dwa","どぃ":"dwi","どぅ":"dwu","どぇ":"dwe","どぉ":"dwo","ふぅ":"fwu","ふゃ":"fya","ふゅ":"fyu","ふょ":"fyo","ぁ":"a","ぃ":"i","ぇ":"e","ぅ":"u","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","っ":"","ゕ":"ka","ゖ":"ka","ゎ":"wa","んあ":"n'a","んい":"n'i","んう":"n'u","んえ":"n'e","んお":"n'o","んや":"n'ya","んゆ":"n'yu","んよ":"n'yo"},Mr=function(){function r(r,t){var e=[],n=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(n=(o=u.next()).done)&&(e.push(o.value),!t||e.length!==t);n=!0);}catch(r){a=!0,i=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kr=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);r.length>t;t++)e[t]=r[t];return e}return Array.from(r)},Er=function(r){var t={},e=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(r)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=Mr(i.value,2),l=u[0],c=u[1],v=t,f=!0,y=!1,s=void 0;try{for(var h,d=l[Symbol.iterator]();!(f=(h=d.next()).done);f=!0){var g=h.value;void 0===v[g]&&(v[g]={}),v=v[g]}}catch(r){y=!0,s=r}finally{try{!f&&d.return&&d.return()}finally{if(y)throw s}}v[""]=c}}catch(r){n=!0,a=r}finally{try{!e&&o.return&&o.return()}finally{if(n)throw a}}return function(r){function e(r,t){if(void 0===r||"string"==typeof r)return t;var n=r,a=!0,i=!1,o=void 0;try{for(var u,l=Object.entries(t)[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=Mr(u.value,2),v=c[0],f=c[1];n[v]=e(r[v],f)}}catch(r){i=!0,o=r}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}return e(JSON.parse(JSON.stringify(r)),t)}}({wi:"ゐ",we:"ゑ"}),Nr=null,qr=["TEXTAREA","INPUT"],Jr=[],Rr=0,Ir=!1,Lr=function(){return Rr+=1,""+Date.now()+Rr};r.bind=p,r.unbind=m,r.isRomaji=z,r.isJapanese=K,r.isKana=q,r.isHiragana=J,r.isKatakana=R,r.isMixed=T,r.isKanji=L,r.toRomaji=_,r.toKana=w,r.toHiragana=W,r.toKatakana=X,r.stripOkurigana=Q,r.tokenize=Y,r.createKanaToHepburnMap=h,r.applyMapping=f,Object.defineProperty(r,"__esModule",{value:!0})});
